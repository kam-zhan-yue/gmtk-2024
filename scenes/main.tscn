[gd_scene load_steps=47 format=3 uid="uid://bt2ju64bl0yrp"]

[ext_resource type="Script" path="res://scripts/flow/game_manager.gd" id="1_vt02a"]
[ext_resource type="Script" path="res://scripts/flow/camera_controller.gd" id="2_ra8cm"]
[ext_resource type="Script" path="res://scripts/flow/spawner.gd" id="3_b1w3c"]
[ext_resource type="PackedScene" uid="uid://gwlgluwanmdk" path="res://scenes/player.tscn" id="3_h8ik1"]
[ext_resource type="Texture2D" uid="uid://c1qj3u4hvqn2n" path="res://assets/textures/dot.png" id="5_625j7"]
[ext_resource type="Script" path="res://scripts/flow/start_spawner.gd" id="7_5dx1o"]
[ext_resource type="SpriteFrames" uid="uid://du58r82pqp6de" path="res://scenes/animations/balloon.tres" id="7_jdpxv"]
[ext_resource type="Script" path="res://scripts/entities/auto_play.gd" id="7_waiks"]
[ext_resource type="AudioStream" uid="uid://u7jl40fk83o4" path="res://audio/music/bgm.mp3" id="8_1hva6"]
[ext_resource type="Script" path="res://scripts/entities/hot_air_balloon.gd" id="8_4vvab"]
[ext_resource type="Script" path="res://scripts/boids/boid_spawner.gd" id="8_egxth"]
[ext_resource type="PackedScene" uid="uid://beiyw255u1oxm" path="res://scenes/ui/ui.tscn" id="8_uw3fq"]
[ext_resource type="PackedScene" uid="uid://cuu4wvac46q6j" path="res://scenes/enemies/fish.tscn" id="9_rtuln"]
[ext_resource type="Script" path="res://scripts/entities/spaceship.gd" id="10_5p2k0"]
[ext_resource type="Texture2D" uid="uid://cvbia6bjs168a" path="res://assets/background/space/rocket_movement_sprite_sheet.png" id="10_x5nps"]
[ext_resource type="Texture2D" uid="uid://b2madcyue34gr" path="res://assets/background/space/rocket_sprite_idle.png" id="11_m4hit"]
[ext_resource type="PackedScene" uid="uid://dtbawr3acmc0s" path="res://scenes/background.tscn" id="12_dvr37"]
[ext_resource type="Script" path="res://scripts/flow/spawn_trigger.gd" id="12_j6dic"]
[ext_resource type="Script" path="res://scripts/flow/timeline.gd" id="12_xvfn4"]
[ext_resource type="SpriteFrames" uid="uid://c81e2cel8mkye" path="res://scenes/animations/submarine.tres" id="13_j364a"]
[ext_resource type="PackedScene" uid="uid://ws4sqa3xys6o" path="res://scenes/spawn_groups/ocean_salmon_boids.tscn" id="17_8mpy1"]
[ext_resource type="PackedScene" uid="uid://bbstso6ny83n4" path="res://scenes/spawn_groups/ocean_tuna_boids.tscn" id="17_h6jyu"]
[ext_resource type="PackedScene" uid="uid://cwm38q433b54v" path="res://scenes/spawn_groups/sky_flock_left.tscn" id="18_4jxoj"]
[ext_resource type="PackedScene" uid="uid://from1behbxyq" path="res://scenes/spawn_groups/sky_eagle.tscn" id="19_7jlms"]
[ext_resource type="PackedScene" uid="uid://c2beapl1a7h5d" path="res://scenes/spawn_groups/sky_flock_right.tscn" id="19_yfx1f"]

[sub_resource type="Environment" id="Environment_bgy46"]
background_mode = 3
glow_enabled = true
glow_strength = 1.21
glow_blend_mode = 0
glow_hdr_threshold = 2.0
glow_hdr_luminance_cap = 3.0

[sub_resource type="Curve2D" id="Curve2D_stg6b"]

[sub_resource type="Curve2D" id="Curve2D_dpbqk"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1, 420, 0, 0, 0, 0, -2, -249)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_gw13f"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1, -246, 0, 0, 0, 0, 8, -273, 0, 0, 0, 0, 20, -297, 0, 0, 0, 0, 53, -323, 0, 0, 0, 0, 88, -350, 0, 0, 0, 0, 120, -376, 0, 0, 0, 0, 171, -400, 0, 0, 0, 0, 243, -416, 0, 0, 0, 0, 307, -436, 0, 0, 0, 0, 391, -453)
}
point_count = 10

[sub_resource type="Curve2D" id="Curve2D_q5d3b"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 130.667, -1420.94, 0, 0, 0, 0, -21.9335, -1426.35)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_0yf8g"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 19, -485, 6.3496, 101.594, -6.3496, -101.594, -56, -882, -23.0173, 144.453, 23.0173, -144.453, -43, -1177, 0, 0, 0, 0, 135, -1502)
}
point_count = 4

[sub_resource type="Curve2D" id="Curve2D_rc8ry"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -63, -1514, 0, 0, 0, 0, -68, -3039)
}
point_count = 2

[sub_resource type="AtlasTexture" id="AtlasTexture_ip3tf"]
atlas = ExtResource("10_x5nps")
region = Rect2(0, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_18fdv"]
atlas = ExtResource("10_x5nps")
region = Rect2(166, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_ah1fn"]
atlas = ExtResource("10_x5nps")
region = Rect2(332, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_e2v7r"]
atlas = ExtResource("10_x5nps")
region = Rect2(498, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_2on58"]
atlas = ExtResource("10_x5nps")
region = Rect2(664, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_31it1"]
atlas = ExtResource("10_x5nps")
region = Rect2(830, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_wif4c"]
atlas = ExtResource("10_x5nps")
region = Rect2(996, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_xadit"]
atlas = ExtResource("10_x5nps")
region = Rect2(1162, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_w5npd"]
atlas = ExtResource("10_x5nps")
region = Rect2(1328, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_xp0pi"]
atlas = ExtResource("10_x5nps")
region = Rect2(1494, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_egedm"]
atlas = ExtResource("10_x5nps")
region = Rect2(1660, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_5iox2"]
atlas = ExtResource("10_x5nps")
region = Rect2(1826, 0, 166, 412)

[sub_resource type="AtlasTexture" id="AtlasTexture_f3d4j"]
atlas = ExtResource("11_m4hit")
region = Rect2(0, 0, 166, 412)

[sub_resource type="SpriteFrames" id="SpriteFrames_ueylr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ip3tf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_18fdv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ah1fn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e2v7r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2on58")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_31it1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wif4c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xadit")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w5npd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xp0pi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_egedm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5iox2")
}],
"loop": true,
"name": &"activate",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_f3d4j")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}]

[node name="MainScene" type="Node2D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bgy46")

[node name="Background" parent="." instance=ExtResource("12_dvr37")]

[node name="StartMarker" type="Marker2D" parent="Background"]
unique_name_in_owner = true
position = Vector2(1, 410)

[node name="SubmarineMarker" type="Marker2D" parent="Background"]
unique_name_in_owner = true
position = Vector2(0, -343)

[node name="BalloonMarker" type="Marker2D" parent="Background"]
unique_name_in_owner = true
position = Vector2(0, -595)

[node name="Path2D" type="Path2D" parent="Background"]
curve = SubResource("Curve2D_stg6b")

[node name="UI" parent="." instance=ExtResource("8_uw3fq")]
unique_name_in_owner = true
layer = 100

[node name="Timeline" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("12_xvfn4")

[node name="CameraController" type="Camera2D" parent="Timeline"]
unique_name_in_owner = true
position = Vector2(0, 183)
zoom = Vector2(3, 3)
script = ExtResource("2_ra8cm")

[node name="SubmarinePath" type="Path2D" parent="Timeline"]
curve = SubResource("Curve2D_dpbqk")

[node name="SubmarineFollow" type="PathFollow2D" parent="Timeline/SubmarinePath"]
unique_name_in_owner = true
position = Vector2(-1, 420)
rotation = -1.56823
rotates = false

[node name="PointLight2D" type="PointLight2D" parent="Timeline/SubmarinePath/SubmarineFollow"]
position = Vector2(-3.00769, -2.99229)
color = Color(1, 1, 1, 0.451)
range_layer_min = -100
range_layer_max = 10
texture = ExtResource("5_625j7")

[node name="Submarine" type="AnimatedSprite2D" parent="Timeline/SubmarinePath/SubmarineFollow"]
light_mask = 0
rotation = 1.5708
sprite_frames = ExtResource("13_j364a")
animation = &"idle"
script = ExtResource("7_waiks")
anim_name = "idle"

[node name="DiverPath" type="Path2D" parent="Timeline"]
curve = SubResource("Curve2D_gw13f")

[node name="DiverFollow" type="PathFollow2D" parent="Timeline/DiverPath"]
unique_name_in_owner = true
position = Vector2(-1, -246)
rotation = -1.24905
rotates = false

[node name="WalkerPath" type="Path2D" parent="Timeline"]
position = Vector2(-29.798, 72.485)
scale = Vector2(1.51376, 1.10876)
curve = SubResource("Curve2D_q5d3b")

[node name="WalkerFollow" type="PathFollow2D" parent="Timeline/WalkerPath"]
unique_name_in_owner = true
position = Vector2(130.667, -1420.94)
rotation = 3.14159
rotates = false

[node name="BalloonPath" type="Path2D" parent="Timeline"]
unique_name_in_owner = true
position = Vector2(36, -2)
curve = SubResource("Curve2D_0yf8g")

[node name="BalloonFollow" type="PathFollow2D" parent="Timeline/BalloonPath"]
unique_name_in_owner = true
position = Vector2(19, -485)
rotation = -1.70238
rotates = false

[node name="HotAirBalloon" type="AnimatedSprite2D" parent="Timeline/BalloonPath/BalloonFollow"]
unique_name_in_owner = true
position = Vector2(66.6832, 6.80797)
rotation = 1.70238
sprite_frames = ExtResource("7_jdpxv")
animation = &"activate"
frame_progress = 0.972902
script = ExtResource("8_4vvab")

[node name="WalkerPath2" type="Path2D" parent="Timeline"]
unique_name_in_owner = true
position = Vector2(-29.798, 72.485)
scale = Vector2(1.51376, 1.10876)
curve = SubResource("Curve2D_q5d3b")

[node name="WalkerFollow" type="PathFollow2D" parent="Timeline/WalkerPath2"]
position = Vector2(130.667, -1420.94)
rotation = 3.14159
rotates = false

[node name="SpaceshipPath" type="Path2D" parent="Timeline"]
unique_name_in_owner = true
curve = SubResource("Curve2D_rc8ry")

[node name="PathFollow2D" type="PathFollow2D" parent="Timeline/SpaceshipPath"]
position = Vector2(-63, -1514)
rotation = -1.57407
rotates = false

[node name="Spaceship" type="AnimatedSprite2D" parent="Timeline/SpaceshipPath/PathFollow2D"]
unique_name_in_owner = true
rotation = 1.5708
sprite_frames = SubResource("SpriteFrames_ueylr")
animation = &"idle"
script = ExtResource("10_5p2k0")

[node name="GameManager" type="Node2D" parent="."]
script = ExtResource("1_vt02a")

[node name="Spawner" type="Node2D" parent="GameManager"]
unique_name_in_owner = true
script = ExtResource("3_b1w3c")

[node name="StartSpawner" type="Node2D" parent="GameManager"]
script = ExtResource("7_5dx1o")

[node name="BoidSpawner1" type="Node2D" parent="GameManager/StartSpawner"]
position = Vector2(-176, 258)
script = ExtResource("8_egxth")
boid_scene = ExtResource("9_rtuln")
start_direction = Vector2(1, -0.2)
spawn_radius = 200.0
spawn_count = 15

[node name="BoidSpawner2" type="Node2D" parent="GameManager/StartSpawner"]
position = Vector2(172, 117)
script = ExtResource("8_egxth")
boid_scene = ExtResource("9_rtuln")
start_direction = Vector2(-1, 0.2)
spawn_radius = 200.0
spawn_count = 15

[node name="MusicPlayer" type="AudioStreamPlayer2D" parent="GameManager"]
unique_name_in_owner = true
stream = ExtResource("8_1hva6")
volume_db = -20.0
bus = &"Music"

[node name="Player" parent="." instance=ExtResource("3_h8ik1")]
unique_name_in_owner = true
position = Vector2(0, 421)

[node name="SpawnGroups" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Tuna" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, 364)
script = ExtResource("12_j6dic")
group = ExtResource("17_h6jyu")

[node name="Salmon" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, 263)
script = ExtResource("12_j6dic")
group = ExtResource("17_8mpy1")

[node name="Tuna3" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, 168)
script = ExtResource("12_j6dic")
group = ExtResource("17_h6jyu")

[node name="Tuna4" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, 85)
script = ExtResource("12_j6dic")
group = ExtResource("17_h6jyu")

[node name="Tuna5" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, -27)
script = ExtResource("12_j6dic")
group = ExtResource("17_h6jyu")

[node name="Tuna6" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, -120)
script = ExtResource("12_j6dic")
group = ExtResource("17_h6jyu")

[node name="Birds1" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, -581)
script = ExtResource("12_j6dic")
group = ExtResource("18_4jxoj")

[node name="Birds3" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, -628)
script = ExtResource("12_j6dic")
group = ExtResource("19_7jlms")

[node name="Birds2" type="Marker2D" parent="SpawnGroups"]
position = Vector2(-1, -581)
script = ExtResource("12_j6dic")
group = ExtResource("19_yfx1f")
